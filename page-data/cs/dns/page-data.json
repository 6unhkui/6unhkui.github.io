{"componentChunkName":"component---src-templates-post-tsx","path":"/cs/dns","result":{"data":{"site":{"siteMetadata":{"author":"Inkyung"}},"markdownRemark":{"fields":{"slug":"/cs/dns"},"id":"212e94c3-f1b2-5b5b-95b2-f34855c5f8ef","excerpt":"생활코딩의  DNS의 동작 원리 브라우저에서 도메인 주소를 입력할 경우 hosts 파일을 찾아본다. 해당 도메인에 대한 정보가 없으면 DNS 서버에 접속하여 이 도메인 주소와 매핑되는 IP 주소를 반환한다 이 IP를 이용하여 통신을 하게 된다. 그러면 컴퓨터는 DNS…","html":"<blockquote>\n<p>생활코딩의 </p>\n</blockquote>\n<h1 id=\"dns의-동작-원리\" style=\"position:relative;\"><a href=\"#dns%EC%9D%98-%EB%8F%99%EC%9E%91-%EC%9B%90%EB%A6%AC\" aria-label=\"dns의 동작 원리 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>DNS의 동작 원리</h1>\n<p>브라우저에서 도메인 주소를 입력할 경우</p>\n<ol>\n<li>hosts 파일을 찾아본다. 해당 도메인에 대한 정보가 없으면</li>\n<li>DNS 서버에 접속하여 이 도메인 주소와 매핑되는 IP 주소를 반환한다</li>\n<li>이 IP를 이용하여 통신을 하게 된다.</li>\n</ol>\n<p>그러면 컴퓨터는 DNS 서버의 주소를 어떻게 알고있을까?</p>\n<p>이것은 컴퓨터에 연결된 local DNS 서버 덕분이다. local DNS는 통신사가 자동으로 설정 해주지만 변경도 가능하다 (통신사는 결국에 사용자가 접속한 사이트들의 정보를 알고있음. 보안상의 문제로 바꾸길 원할 수도 있다)</p>\n<ul>\n<li>public dns server로 검색하면 된다</li>\n</ul>\n<h2 id=\"dns-내부-매커니즘\" style=\"position:relative;\"><a href=\"#dns-%EB%82%B4%EB%B6%80-%EB%A7%A4%EC%BB%A4%EB%8B%88%EC%A6%98\" aria-label=\"dns 내부 매커니즘 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>DNS 내부 매커니즘</h2>\n<p>DNS 서버의 역할은 크게 두가지임</p>\n<ol>\n<li>사용자가 IP와 도메인을 등록하면 저장하는 것</li>\n<li>클라이언트로 사용되는 컴퓨터가 도메인 주소를 물어보면 IP를 반환해주는 것</li>\n</ol>\n<p>DNS 서버는 수천대~수만대가 있다. 분산된 DNS 서버가 서로 협력하여 이 서비스를 제공하는 것이다</p>\n<p>예를 들어 아래와 같은 도메인 주소가 있다</p>\n<p><img src=\"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/b27c4bb3-38bf-4f4b-a751-6ebd2a33a564/20201013_163133.png\" alt=\"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/b27c4bb3-38bf-4f4b-a751-6ebd2a33a564/20201013_163133.png\"></p>\n<p>이 각각의 부분들은 각각을 담당하는 독자적인 서버가 존재한다.</p>\n<p>sub를 담당하는 dns 서버 / second-level 을 담당하는 dns 서버 / ...</p>\n<p>이 각 서버의 관계는 이렇다</p>\n<p><img src=\"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/c6caa767-a307-4a97-bc28-07fb32a7da45/20201013_163320.png\" alt=\"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/c6caa767-a307-4a97-bc28-07fb32a7da45/20201013_163320.png\"></p>\n<ol>\n<li>Root를 담당하는 DNS 서버는 Top-Level 을 담당하는 DNS 서버의 주소를 알고있다</li>\n<li>Top-Level 을 담당하는 DNS 서버는 Second-Level을 담당하는 DNS 서버의 주소를 알고있다</li>\n</ol>\n<p>... </p>\n<p>이런 식으로 상위 레벨이 직속 하위 레벨의 주소를 알고있는 형태이다.</p>\n<p>최소한 클라이언트는 Root 네임 서버의 주소를 알고있어야 한다. </p>\n<p>먼저 Root 네임 서버에 질의를 하고, Root 네임 서버는 Top-Level 네임 서버의 주소를 반환함</p>\n<p>Top-Level 네임 서버에 질의하면 Top-Level 네임 서버는 Second-Level 네임 서버의 주소를 반환한다</p>\n<p>...</p>\n<p>결국 sub 네임 서버까지 가면 그때 IP 주소를 알 수 있는 것이다.</p>\n<h2 id=\"dns-record와-cname-레코드의-이해\" style=\"position:relative;\"><a href=\"#dns-record%EC%99%80-cname-%EB%A0%88%EC%BD%94%EB%93%9C%EC%9D%98-%EC%9D%B4%ED%95%B4\" aria-label=\"dns record와 cname 레코드의 이해 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>DNS record와 CNAME 레코드의 이해</h2>\n<h3 id=\"dns-record\" style=\"position:relative;\"><a href=\"#dns-record\" aria-label=\"dns record permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>DNS Record</h3>\n<p>도메인 이름에 대한 정보 한건 한건</p>\n<h3 id=\"a-type\" style=\"position:relative;\"><a href=\"#a-type\" aria-label=\"a type permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>A Type</h3>\n<p>Address Record</p>\n<p>도메인 주소에 대한 IP 주소를 매핑 시키는 것</p>\n<p>e.g. <code class=\"language-text\">example.com.</code> - <code class=\"language-text\">192.0.1.1</code></p>\n<h3 id=\"cname\" style=\"position:relative;\"><a href=\"#cname\" aria-label=\"cname permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CNAME</h3>\n<p>도메인 주소에 대한 또다른 도메인을 지정해주는 것</p>\n<p>e.g. <code class=\"language-text\">www.example.com</code> - <code class=\"language-text\">example.com</code></p>","tableOfContents":"<ul>\n<li>\n<p><a href=\"/cs/dns/#dns%EC%9D%98-%EB%8F%99%EC%9E%91-%EC%9B%90%EB%A6%AC\">DNS의 동작 원리</a></p>\n<ul>\n<li><a href=\"/cs/dns/#dns-%EB%82%B4%EB%B6%80-%EB%A7%A4%EC%BB%A4%EB%8B%88%EC%A6%98\">DNS 내부 매커니즘</a></li>\n<li>\n<p><a href=\"/cs/dns/#dns-record%EC%99%80-cname-%EB%A0%88%EC%BD%94%EB%93%9C%EC%9D%98-%EC%9D%B4%ED%95%B4\">DNS record와 CNAME 레코드의 이해</a></p>\n<ul>\n<li><a href=\"/cs/dns/#dns-record\">DNS Record</a></li>\n<li><a href=\"/cs/dns/#a-type\">A Type</a></li>\n<li><a href=\"/cs/dns/#cname\">CNAME</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>","frontmatter":{"title":"DNS의 동작 원리","date":"July 22, 2020","category":"Network","tags":["Java"],"featuredImage":{"childImageSharp":{"original":{"src":"/static/thumbnail-80fdc8b3a107278fca620c7ba9ee2e2b.png","width":1200,"height":350}}}}}},"pageContext":{"slug":"/cs/dns","previous":{"id":"54cad728-77fa-53db-a2e4-601c43c1d7d3","fields":{"slug":"/cs/book-it-infra-architecture"},"frontmatter":{"title":"그림으로 공부하는 IT 인프라 구조","tags":["IT","Book"]}},"next":{"id":"988610c2-98af-580d-abac-0faeb4383e3b","fields":{"slug":"/cs/http"},"frontmatter":{"title":"HTTP","tags":["IT"]}}}}}