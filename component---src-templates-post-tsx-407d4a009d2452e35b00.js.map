{"version":3,"sources":["webpack:///./src/components/Post/tableOfContents.tsx","webpack:///./src/components/Post/postComment.tsx","webpack:///./src/templates/post.tsx","webpack:///./node_modules/gatsby/node_modules/core-js/modules/es7.object.entries.js","webpack:///./node_modules/gatsby/node_modules/core-js/modules/_object-to-array.js"],"names":["TableOfContents","items","currentHeaderUrl","replaceItems","useMemo","replace","className","icon","style","marginRight","opacity","dangerouslySetInnerHTML","__html","PostComment","repo","containerRef","createRef","useLayoutEffect","utterances","document","createElement","attributes","src","label","theme","crossOrigin","async","Object","entries","forEach","key","value","setAttribute","current","appendChild","ref","PostTemplate","data","pageContext","location","useState","undefined","setCurrentHeaderUrl","previous","next","author","site","siteMetadata","markdownRemark","excerpt","html","tableOfContents","frontmatter","category","title","date","tags","featuredImage","image","childImageSharp","original","handleScroll","aboveHeaderUrl","currentOffsetY","window","pageYOffset","headerElements","querySelectorAll","elem","elemTop","getBoundingClientRect","top","isLast","length","split","origin","href","useEffect","addEventListener","removeEventListener","description","article","backgroundImage","map","tag","i","to","kebabCase","fields","slug","rel","pageQuery","$export","$entries","S","it","DESCRIPTORS","getKeys","toIObject","isEnum","f","module","exports","isEntries","O","keys","result","call","push"],"mappings":"0UA4BeA,EApB0B,SAAC,GAAgC,IAA9BC,EAA8B,EAA9BA,MAAOC,EAAuB,EAAvBA,iBACzCC,EAAeC,mBAAQ,WACzB,OAAIF,EACOD,EAAMI,QAAN,IAAkBH,EAAlB,QAA2CA,EAA3C,qBAEAD,IAEZ,CAACA,EAAOC,IAEX,OAAOD,EACH,yBAAKK,UAAU,YACX,uBAAGA,UAAU,SACT,kBAAC,IAAD,CAAiBC,KAAM,WAAYC,MAAO,CAAEC,YAAa,MAAOC,QAAS,QAD7E,qBAIA,yBAAKJ,UAAU,eAAeK,wBAAyB,CAAEC,OAAQT,MAErE,MCSOU,G,oBA1BsB,SAAC,GAAa,IAAXC,EAAW,EAAXA,KAC9BC,EAA+BC,sBAsBrC,OApBAC,2BAAgB,WACZ,IAAMC,EAAaC,SAASC,cAAc,UAEpCC,EAAa,CACfC,IATA,gCAUAR,OACA,aAAc,WACdS,MAAO,UACPC,MAAO,eACPC,YAAa,YACbC,MAAO,QAGXC,OAAOC,QAAQP,GAAYQ,SAAQ,YAAkB,IAAhBC,EAAgB,KAAXC,EAAW,KACjDb,EAAWc,aAAaF,EAAKC,MAGjChB,EAAakB,QAAQC,YAAYhB,KAClC,CAACJ,IAEG,yBAAKqB,IAAKpB,M,k0BC8FNqB,UA1GuB,SAAC,GAAoC,IAAlCC,EAAkC,EAAlCA,KAAMC,EAA4B,EAA5BA,YAAaC,EAAe,EAAfA,SAAe,EACvBC,wBAASC,GAAlDvC,EADgE,KAC9CwC,EAD8C,KAE/DC,EAAmBL,EAAnBK,SAAUC,EAASN,EAATM,KAGMC,EAQpBR,EATAS,KACIC,aAAgBF,OAL+C,EAanER,EANAW,eACIC,EAR+D,EAQ/DA,QACAC,EAT+D,EAS/DA,KACAC,EAV+D,EAU/DA,gBAV+D,IAW/DC,YAAeC,EAXgD,EAWhDA,SAAUC,EAXsC,EAWtCA,MAAOC,EAX+B,EAW/BA,KAAMC,EAXyB,EAWzBA,KAAMC,EAXmB,EAWnBA,cAI9CC,EAAQD,EAAgBA,EAAcE,gBAAgBC,cAAWnB,EAEjEoB,EAAe,WAKjB,IAJA,IAAIC,EAIJ,EAHMC,EAAiBC,OAAOC,YACxBC,EAAsC/C,SAASgD,iBAAiB,kBAEtE,IAAmBD,KAAnB,aAAmC,KAAxBE,EAAwB,QAEzBC,EADUD,EAAKE,wBAAbC,IACcR,EAChBS,EAASJ,IAASF,EAAeA,EAAeO,OAAS,GAE/D,GAAIV,EAAiBM,EA7BT,IA6BoC,CAC5CP,GAAkBpB,EAAoBoB,EAAeY,MAAMnC,EAASoC,QAAQ,KAC3Eb,GAAkBpB,OAAoBD,GACvC,MAEA+B,GAAU9B,EAAoB0B,EAAKQ,KAAKF,MAAMnC,EAASoC,QAAQ,KAC9DH,IAAWV,EAAiBM,EAAKQ,QAY9C,OAPAC,qBAAU,WAEN,OADA1D,SAAS2D,iBAAiB,SAAUjB,GAAc,GAC3C,WACH1C,SAAS4D,oBAAoB,SAAUlB,GAAc,MAE1D,IAGC,kBAAC,IAAD,CAAOtB,SAAUA,GACb,kBAAC,IAAD,CAAKe,MAAOA,EAAO0B,YAAa/B,EAASS,MAAOA,EAAOuB,SAAS,IAEhE,6BAAS3E,UAAU,aACf,yBAAKA,UAAU,iBAAiBE,MAAO,CAAE0E,gBAAiBxB,EAAQ,OAAOA,EAAMpC,IAAhB,IAAyB,KACpF,yBAAKhB,UAAU,kBACX,yBAAKA,UAAU,uBACV+C,GAAY,0BAAM/C,UAAU,YAAY+C,GACxCC,GAAS,wBAAIhD,UAAU,SAASgD,GACjC,0BAAMhD,UAAU,aAAhB,MACO,0BAAMA,UAAU,UAAUuC,GADjC,OAEYU,GAEZ,yBAAKjD,UAAU,aACVkD,EAAK2B,KAAI,SAACC,EAAKC,GAAN,OACN,kBAAC,OAAD,CAAMC,GAAE,SAAWC,oBAAUH,GAArB,IAA8B9E,UAAU,MAAMwB,IAAKuD,GACtDD,UAQzB,yBAAK9E,UAAU,aACX,kBAAC,EAAD,CAAiBL,MAAOkD,EAAiBjD,iBAAkBA,IAE3D,iCACI,yBAAKI,UAAU,UAAUK,wBAAyB,CAAEC,OAAQsC,KAE5D,wBAAI5C,UAAU,aAEd,yBAAKA,UAAU,mBACVqC,GACG,yBAAKrC,UAAU,uBACX,uCACA,kBAAC,OAAD,CAAMgF,GAAI3C,EAAS6C,OAAOC,KAAMC,IAAI,QAApC,KACO/C,EAASS,YAAYE,QAKnCV,GACG,yBAAKtC,UAAU,mBACX,mCACA,kBAAC,OAAD,CAAMgF,GAAI1C,EAAK4C,OAAOC,KAAMC,IAAI,QAC3B9C,EAAKQ,YAAYE,MADtB,QAOZ,kBAAC,EAAD,CAAaxC,KAAK,mCApG1C,IA8Ga6E,EAAY,c,uBC9HzB,IAAIC,EAAU,EAAQ,QAClBC,EAAW,EAAQ,OAAR,EAA8B,GAE7CD,EAAQA,EAAQE,EAAG,SAAU,CAC3BlE,QAAS,SAAiBmE,GACxB,OAAOF,EAASE,O,qBCNpB,IAAIC,EAAc,EAAQ,QACtBC,EAAU,EAAQ,QAClBC,EAAY,EAAQ,QACpBC,EAAS,EAAQ,QAAiBC,EACtCC,EAAOC,QAAU,SAAUC,GACzB,OAAO,SAAUR,GAOf,IANA,IAKIjE,EALA0E,EAAIN,EAAUH,GACdU,EAAOR,EAAQO,GACf/B,EAASgC,EAAKhC,OACdY,EAAI,EACJqB,EAAS,GAENjC,EAASY,GACdvD,EAAM2E,EAAKpB,KACNW,IAAeG,EAAOQ,KAAKH,EAAG1E,IACjC4E,EAAOE,KAAKL,EAAY,CAACzE,EAAK0E,EAAE1E,IAAQ0E,EAAE1E,IAG9C,OAAO4E","file":"component---src-templates-post-tsx-407d4a009d2452e35b00.js","sourcesContent":["import React, { useEffect, useMemo, useState, useRef } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\ninterface Props {\n    items: string;\n    currentHeaderUrl?: string;\n}\n\nconst TableOfContents: React.FC<Props> = ({ items, currentHeaderUrl }) => {\n    const replaceItems = useMemo(() => {\n        if (currentHeaderUrl) {\n            return items.replace(`\"${currentHeaderUrl}\"`, `\"${currentHeaderUrl}\" class=\"current\"`);\n        } else {\n            return items;\n        }\n    }, [items, currentHeaderUrl]);\n\n    return items ? (\n        <div className=\"toc-wrap\">\n            <p className=\"title\">\n                <FontAwesomeIcon icon={\"bookmark\"} style={{ marginRight: \"8px\", opacity: \".6\" }} />\n                TABLE OF CONTENTS\n            </p>\n            <div className=\"content-list\" dangerouslySetInnerHTML={{ __html: replaceItems }} />\n        </div>\n    ) : null;\n};\n\nexport default TableOfContents;\n","import React, { createRef, RefObject, useLayoutEffect } from \"react\";\n\ninterface Props {\n    repo: string;\n}\n\nconst src = \"https://utteranc.es/client.js\";\n\nconst PostComment: React.FC<Props> = ({ repo }) => {\n    const containerRef: RefObject<any> = createRef();\n\n    useLayoutEffect(() => {\n        const utterances = document.createElement(\"script\");\n\n        const attributes = {\n            src,\n            repo,\n            \"issue-term\": \"pathname\",\n            label: \"comment\",\n            theme: \"github-light\",\n            crossOrigin: \"anonymous\",\n            async: \"true\"\n        };\n\n        Object.entries(attributes).forEach(([key, value]) => {\n            utterances.setAttribute(key, value);\n        });\n\n        containerRef.current.appendChild(utterances);\n    }, [repo]);\n\n    return <div ref={containerRef} />;\n};\n\nexport default PostComment;\n","// markdown-template.js\nimport React, { useState, useEffect } from \"react\";\nimport { kebabCase } from \"lodash\";\nimport { Link, graphql } from \"gatsby\";\nimport SEO from \"../components/seo\";\nimport Index from \"../components/Layout\";\nimport TableOfContents from \"../components/Post/tableOfContents\";\nimport PostComment from \"../components/Post/postComment\";\nimport { PageContext } from \"../interfaces/PageContext\";\nimport { Query } from \"../interfaces/PostDetail\";\n\ninterface Props {\n    data: Query;\n    pageContext: PageContext;\n    location: Location;\n}\n\nconst HEADER_OFFSET_Y = 100;\n\nconst PostTemplate: React.FC<Props> = ({ data, pageContext, location }) => {\n    const [currentHeaderUrl, setCurrentHeaderUrl] = useState(undefined);\n    const { previous, next } = pageContext;\n    const {\n        site: {\n            siteMetadata: { author }\n        },\n        markdownRemark: {\n            excerpt,\n            html,\n            tableOfContents,\n            frontmatter: { category, title, date, tags, featuredImage }\n        }\n    } = data;\n\n    const image = featuredImage ? featuredImage.childImageSharp.original : undefined;\n\n    const handleScroll = () => {\n        let aboveHeaderUrl; // 화면 바로 위에 위치한 header\n        const currentOffsetY = window.pageYOffset;\n        const headerElements: NodeListOf<Element> = document.querySelectorAll(\".anchor-header\");\n\n        for (const elem of headerElements) {\n            const { top } = elem.getBoundingClientRect();\n            const elemTop = top + currentOffsetY;\n            const isLast = elem === headerElements[headerElements.length - 1];\n\n            if (currentOffsetY < elemTop - HEADER_OFFSET_Y) {\n                aboveHeaderUrl && setCurrentHeaderUrl(aboveHeaderUrl.split(location.origin)[1]);\n                !aboveHeaderUrl && setCurrentHeaderUrl(undefined);\n                break;\n            } else {\n                isLast && setCurrentHeaderUrl(elem.href.split(location.origin)[1]);\n                !isLast && (aboveHeaderUrl = elem.href);\n            }\n        }\n    };\n\n    useEffect(() => {\n        document.addEventListener(\"scroll\", handleScroll, false);\n        return () => {\n            document.removeEventListener(\"scroll\", handleScroll, false);\n        };\n    }, []);\n\n    return (\n        <Index location={location}>\n            <SEO title={title} description={excerpt} image={image} article={true} />\n\n            <section className=\"post-view\">\n                <div className=\"featured-image\" style={{ backgroundImage: image ? `url(${image.src})` : \"\" }}>\n                    <div className=\"post-info-wrap\">\n                        <div className=\"post-info container\">\n                            {category && <span className=\"category\">{category}</span>}\n                            {title && <h1 className=\"title\">{title}</h1>}\n                            <span className=\"meta-data\">\n                                by <span className=\"writer\">{author}</span>\n                                {` ∙  ${date}`}\n                            </span>\n                            <div className=\"tags-wrap\">\n                                {tags.map((tag, i) => (\n                                    <Link to={`/tags/${kebabCase(tag)}/`} className=\"tag\" key={i}>\n                                        {tag}\n                                    </Link>\n                                ))}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <div className=\"container\">\n                    <TableOfContents items={tableOfContents} currentHeaderUrl={currentHeaderUrl} />\n\n                    <article>\n                        <div className=\"content\" dangerouslySetInnerHTML={{ __html: html }} />\n\n                        <hr className=\"end-line\" />\n\n                        <div className=\"navigation-wrap\">\n                            {previous && (\n                                <div className=\"navigation previous\">\n                                    <p>Previous</p>\n                                    <Link to={previous.fields.slug} rel=\"prev\">\n                                        ← {previous.frontmatter.title}\n                                    </Link>\n                                </div>\n                            )}\n\n                            {next && (\n                                <div className=\"navigation next\">\n                                    <p>Next</p>\n                                    <Link to={next.fields.slug} rel=\"next\">\n                                        {next.frontmatter.title} →\n                                    </Link>\n                                </div>\n                            )}\n                        </div>\n\n                        <PostComment repo=\"6unhkui/6unhkui.github.io\" />\n                    </article>\n                </div>\n            </section>\n        </Index>\n    );\n};\n\nexport default PostTemplate;\n\nexport const pageQuery = graphql`\n    query($slug: String!) {\n        site {\n            siteMetadata {\n                author\n            }\n        }\n        markdownRemark(fields: { slug: { eq: $slug } }) {\n            fields {\n                slug\n            }\n            id\n            excerpt(pruneLength: 160)\n            html\n            tableOfContents\n            frontmatter {\n                title\n                date(formatString: \"MMMM DD, yyyy\")\n                category\n                tags\n                featuredImage {\n                    childImageSharp {\n                        original {\n                            src\n                            width\n                            height\n                        }\n                    }\n                }\n            }\n        }\n    }\n`;\n","// https://github.com/tc39/proposal-object-values-entries\nvar $export = require('./_export');\nvar $entries = require('./_object-to-array')(true);\n\n$export($export.S, 'Object', {\n  entries: function entries(it) {\n    return $entries(it);\n  }\n});\n","var DESCRIPTORS = require('./_descriptors');\nvar getKeys = require('./_object-keys');\nvar toIObject = require('./_to-iobject');\nvar isEnum = require('./_object-pie').f;\nmodule.exports = function (isEntries) {\n  return function (it) {\n    var O = toIObject(it);\n    var keys = getKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || isEnum.call(O, key)) {\n        result.push(isEntries ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n"],"sourceRoot":""}