{"version":3,"sources":["webpack:///./src/components/Post/posts.tsx","webpack:///./src/components/Filter/switcher.tsx","webpack:///./src/components/Filter/search.tsx","webpack:///./src/utils/infiniteScroll.ts","webpack:///./src/pages/project.tsx","webpack:///./static/images/gradation-bg.png","webpack:///./src/components/Post/postSingle.tsx"],"names":["Category","Switcher","React","memo","items","selectedItem","onChange","handleChange","useCallback","event","target","dataset","category","className","map","item","i","key","toUpperCase","fieldValue","data-category","onClick","SearchIco","icon","Search","value","type","placeholder","Posts","data","allMarkdownRemark","allPosts","edges","categories","useState","posts","setPosts","postsToShow","setPostsToShow","searchValue","setSearchValue","All","selectedCategory","setSelectedCategory","categoryItems","filterPosts","filter","post","node","frontmatter","title","tags","length","includes","some","tag","useEffect","_infiniteScroll","InfinitiScroll","bind","state","document","addEventListener","removeEventListener","onChangeCategory","trim","onChangeSearchInput","style","margin","slice","infiniteScroll","callback","scrollHeight","Math","max","documentElement","body","scrollTop","clientHeight","ProjectPage","location","pageQuery","module","exports","PostSingle","date","featuredImage","slug","fields","excerpt","to","src","childImageSharp","resize","Thumbnail","dangerouslySetInnerHTML","__html","kebabCase"],"mappings":"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","file":"component---src-pages-project-tsx-aadc98707610261217e3.js","sourcesContent":["import React, { useEffect, useState, useCallback } from \"react\";\nimport Switcher from \"../Filter/switcher\";\nimport Search from \"../Filter/search\";\nimport { Query } from \"../../interfaces/PostList\";\nimport PostSingle from \"./postSingle\";\nimport InfinitiScroll from \"../../utils/infiniteScroll\";\n\ninterface Props {\n    data: Query;\n}\nenum Category {\n    All = \"ALL\"\n}\n\nconst SHOW_COUNT = 6;\n\nconst Posts: React.FC<Props> = ({ data }) => {\n    const {\n        allMarkdownRemark: { edges: allPosts, categories }\n    } = data;\n    const [posts, setPosts] = useState(allPosts);\n    const [postsToShow, setPostsToShow] = useState(SHOW_COUNT);\n    const [searchValue, setSearchValue] = useState(\"\");\n    const [selectedCategory, setSelectedCategory] = useState(Category.All);\n    const categoryItems = useState(() => [{ fieldValue: Category.All }, ...categories])[0];\n\n    useEffect(() => {\n        setPostsToShow(SHOW_COUNT);\n        setPosts(filterPosts);\n    }, [searchValue, selectedCategory]);\n\n    useEffect(() => {\n        const _infiniteScroll = InfinitiScroll.bind(null, () => setPostsToShow(state => state + SHOW_COUNT));\n\n        document.addEventListener(\"scroll\", _infiniteScroll, false);\n        return () => {\n            document.removeEventListener(\"scroll\", _infiniteScroll, false);\n        };\n    }, []);\n\n    function filterPosts() {\n        return allPosts\n            .filter(post => {\n                const {\n                    node: {\n                        frontmatter: { category }\n                    }\n                } = post;\n                // 선택된 카테고리가 ALL 이거나, 선택된 카테고리와 리스트의 카테고리가 일치할 경우 true\n                return (\n                    selectedCategory.toUpperCase() === Category.All || category.toUpperCase() === selectedCategory.toUpperCase()\n                );\n            })\n            .filter(post => {\n                const {\n                    node: {\n                        frontmatter: { title, tags }\n                    }\n                } = post;\n                // 검색어가 없거나, 제목 혹은 태그가 일치할 경우 true\n                return (\n                    searchValue.length === 0 ||\n                    title.toUpperCase().includes(searchValue.toUpperCase()) ||\n                    tags.some(tag => tag.toUpperCase().includes(searchValue.toUpperCase()))\n                );\n            });\n    }\n\n    const onChangeCategory = useCallback(value => {\n        setSelectedCategory(value.trim());\n        setSearchValue(\"\");\n    }, []);\n\n    const onChangeSearchInput = useCallback(value => {\n        setSearchValue(value.trim());\n    }, []);\n\n    return (\n        <section className=\"posts-wrap\">\n            <div className=\"posts container\">\n                {allPosts.length > 0 && (\n                    <div className=\"filter-wrap\">\n                        <Switcher items={categoryItems} selectedItem={selectedCategory} onChange={onChangeCategory} />\n                        <Search onChange={onChangeSearchInput} value={searchValue} />\n                    </div>\n                )}\n\n                <div\n                    style={{\n                        margin: 0\n                    }}\n                >\n                    {posts.length > 0 ? (\n                        posts.slice(0, postsToShow).map((post, i) => <PostSingle data={post} key={i} />)\n                    ) : (\n                        <div className=\"empty\">게시글이 존재하지 않습니다.</div>\n                    )}\n                </div>\n            </div>\n        </section>\n    );\n};\n\nexport default Posts;\n","import React, { useCallback } from \"react\";\nimport { Category } from \"../../interfaces/PostList\";\nimport propTypes from \"prop-types\";\n\ninterface Props {\n    items: Category[];\n    selectedItem: string;\n    onChange: (category: string) => void;\n}\n\nconst Switcher: React.FC<Props> = React.memo(({ items, selectedItem = \"ALL\", onChange }) => {\n    const handleChange = useCallback(event => {\n        onChange(event.target.dataset.category);\n    }, []);\n\n    return (\n        <div className=\"switcher-wrap\">\n            {items.map((item, i) => (\n                <div\n                    key={i}\n                    className={\n                        \"switcher-option \" + (selectedItem.toUpperCase() === item.fieldValue.toUpperCase() ? \"selected\" : \"\")\n                    }\n                    data-category={item.fieldValue}\n                    onClick={handleChange}\n                >\n                    {item.fieldValue}\n                </div>\n            ))}\n        </div>\n    );\n});\n\nexport default Switcher;\n","import React, { useCallback, useMemo } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\ninterface Props {\n    value: string;\n    onChange: (value: string) => void;\n}\n\nconst SearchIco = React.memo(() => {\n    return <FontAwesomeIcon icon={\"search\"} className=\"ico-search\" />;\n});\n\nconst Search: React.FC<Props> = React.memo(({ value, onChange }) => {\n    const handleChange = useCallback(event => {\n        onChange(event.target.value);\n    }, []);\n\n    return (\n        <div className=\"search-wrap\">\n            <SearchIco />\n            <input\n                type=\"text\"\n                placeholder=\"검색어를 입력하세요.\"\n                value={value}\n                onChange={handleChange}\n                className=\"search-input\"\n            />\n        </div>\n    );\n});\n\nexport default Search;\n","const infiniteScroll = (callback: Function): void => {\n    const scrollHeight = Math.max(document.documentElement.scrollHeight, document.body.scrollHeight);\n    const scrollTop = Math.max(document.documentElement.scrollTop, document.body.scrollTop);\n    const clientHeight = document.documentElement.clientHeight;\n\n    if (scrollTop + clientHeight > scrollHeight - 300) {\n        callback();\n    }\n};\n\nexport default infiniteScroll;\n","import React from \"react\";\nimport Index from \"../components/Layout\";\nimport SEO from \"../components/seo\";\nimport Posts from \"../components/Post/posts\";\nimport { Query } from \"../interfaces/PostList\";\nimport { graphql } from \"gatsby\";\n\ninterface Props {\n    data: Query;\n    location: Location;\n}\nconst ProjectPage: React.FC<Props> = ({ data, location }) => (\n    <Index location={location}>\n        <SEO title=\"Project\" />\n        <Posts data={data} />\n    </Index>\n);\n\nexport default ProjectPage;\n\nexport const pageQuery = graphql`\n    query {\n        allMarkdownRemark(\n            filter: { fields: { slug: { regex: \"/^/project//\" } } }\n            sort: { fields: [frontmatter___date], order: DESC }\n        ) {\n            edges {\n                node {\n                    excerpt(format: PLAIN, truncate: true, pruneLength: 50)\n                    fields {\n                        slug\n                    }\n                    frontmatter {\n                        date(formatString: \"MMMM DD, YYYY\")\n                        title\n                        tags\n                        category\n                        featuredImage {\n                            childImageSharp {\n                                resize(width: 700) {\n                                    src\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n            categories: group(field: frontmatter___category) {\n                fieldValue\n            }\n        }\n    }\n`;\n","module.exports = __webpack_public_path__ + \"static/gradation-bg-ede5f65187fb6614201d52efa7ce59b1.png\";","import React from \"react\";\nimport Thumbnail from \"../../../static/images/gradation-bg.png\";\nimport { Link } from \"gatsby\";\nimport { kebabCase } from \"lodash\";\nimport { Edge } from \"../../interfaces/PostList\";\n\ninterface Props {\n    data: Edge;\n}\n\nconst PostSingle: React.FC<Props> = ({ data }) => {\n    const {\n        frontmatter: { title, date, category, tags, featuredImage },\n        fields: { slug },\n        excerpt\n    } = data.node;\n\n    return (\n        <article className=\"card\">\n            <Link to={`${slug}/`}>\n                <img src={featuredImage ? featuredImage.childImageSharp.resize.src : Thumbnail} />\n\n                <div className=\"post-info\">\n                    <p className=\"date\">{date}</p>\n                    <span className=\"category\">{category}</span>\n                    <h1 className=\"title\">{title}</h1>\n\n                    <p className=\"summary\" dangerouslySetInnerHTML={{ __html: excerpt }} />\n\n                    <div className=\"tags-wrap\">\n                        {tags?.map((tag, i) => (\n                            <Link to={`/tags/${kebabCase(tag)}/`} className=\"tag\" key={i}>\n                                {tag}\n                            </Link>\n                        ))}\n                    </div>\n                </div>\n            </Link>\n        </article>\n    );\n};\n\nexport default PostSingle;\n"],"sourceRoot":""}